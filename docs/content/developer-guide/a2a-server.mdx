---
title: A2A Servers
description: Agent-to-Agent protocol integration for ARK
---

# A2A Servers

ARK supports the [A2A Protocol](https://github.com/a2a-integration/a2a-spec) for agent-to-agent communication and hosting external agent frameworks.

## Overview

ARK provides two main A2A capabilities:

1. **[A2A Gateway](/developer-guide/a2a-gateway)** - Exposes ARK agents via the A2A protocol
2. **[A2A Servers](/developer-guide/a2a-server)** - Host your existing agents in ARK (this page)
3. **[Building A2A Servers](/developer-guide/building-a2a-servers)** - Step-by-step guide to create A2A servers

## Quick Links

- **[A2A Gateway](/developer-guide/a2a-gateway)** - Learn about ARK's built-in A2A gateway
- **[Building A2A Servers](/developer-guide/building-a2a-servers)** - Step-by-step guide to create A2A servers
- **[A2A Protocol Spec](https://github.com/a2a-integration/a2a-spec)** - Official A2A protocol documentation

## Managing A2A Servers

### Basic Operations

```bash
# List A2A servers
kubectl get a2aservers

# View details
kubectl describe a2aserver simple-agent

# Delete an A2A server
kubectl delete a2aserver simple-agent
```

## Usage

Once an A2A Server is created and ready, you can query the generated agents like any other ARK agent:

```bash
# Query an agent from the A2A server
fark agent simple-agent-simple-agent "What's the weather like today?"

# List all agents (including A2A-generated ones)
kubectl get agents
```

## Creating a sample agent

You must have a default model *before* using this sample agent

See the [samples/agent-hosting](https://github.com/mckinsey/agents-at-scale-ark/tree/main/samples/agent-hosting) directory for complete examples:
- **LangChain Weather Agent**: Weather forecasting with NWS API tools

## Agent Hosting with A2A Servers

Agent hosting allows you to integrate existing agent frameworks with ARK using the A2A protocol.

### How Agent Hosting Works

1. **Create A2A Server**: Deploy your agents using the A2A protocol
2. **Register with ARK**: Create an A2AServer resource pointing to your service
3. **Automatic Discovery**: ARK discovers agents and creates Agent resources
4. **Query Execution**: Users can query the agents through the dedicated A2A execution engine

### Example A2AServer for Agent Hosting

```yaml
apiVersion: ark.mckinsey.com/v1prealpha1
kind: A2AServer
metadata:
  name: my-simple-agent
spec:
  address:
    valueFrom:
      serviceRef:
        name: my-a2a-service
        port: "8080"
  description: "My hosted simple agent"
```

### Generated Agent Resources

The A2AServer controller automatically creates Agent resources with the reserved 'a2a' execution engine:

```yaml
apiVersion: ark.mckinsey.com/v1alpha1
kind: Agent
metadata:
  name: my-simple-agent-research-agent
  labels:
    a2a/server: "my-simple-agent"
  ownerReferences:
  - apiVersion: ark.mckinsey.com/v1prealpha1
    kind: A2AServer
    name: my-simple-agent
spec:
  description: "Performs research tasks"
  prompt: "You are Research Agent. Performs research tasks"
  executionEngine:
    name: "a2a"
```

### Supported Frameworks

Agent hosting works with any framework that can implement the A2A protocol:
- **LangChain** - Python and JavaScript agents
- **CrewAI** - Multi-agent systems
- **AutoGen** - Conversational AI agents
- **Custom implementations** - Any HTTP service implementing A2A protocol

## Samples

See the [samples/a2a](https://github.com/mckinsey/agents-at-scale-ark/tree/main/samples/a2a) directory for complete examples:

- **[Simple Agent](samples/a2a/simple-agent/)**: Complete A2A server with conversation, math, and echo capabilities
- **[Weather Agent](samples/a2a/weather-agent/)**: Weather agent with real API integrations

## A2A Annotations

Created agents include these annotations:
- **`ark.mckinsey.com/a2a-server-name`**: The name of the A2A server that created this agent
- **`ark.mckinsey.com/a2a-server-address`**: The resolved address of the A2A server
- **`ark.mckinsey.com/a2a-server-skills`**: JSON representation of agent skills discovered from the A2A server

## Next Steps

A2A Servers enable integration with external agent systems. For more advanced features, explore:

- [Services](/developer-guide/services) - Additional ARK services
- [Observability](/developer-guide/observability) - Monitoring your agents
